{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport API from '../api';\nexport default {\n  data() {\n    return {\n      rules: [value => !!value || \"Esta campo es obligatorio!!\"],\n      post: {\n        titulo: \"\",\n        categoria: \"\",\n        contenido: \"\",\n        image: \"\"\n      },\n      image: \"\"\n    };\n  },\n  async created() {\n    const response = await API.getPostByID(this.$route.params.id);\n    this.post = response;\n  },\n  methods: {\n    selectFile(file) {\n      this.image = file[0];\n    },\n    async submitForm() {\n      const formData = new FormData();\n      formData.append(\"image\", this.image);\n      formData.append(\"titulo\", this.post.titulo);\n      formData.append(\"categoria\", this.post.categoria);\n      formData.append(\"contenido\", this.post.contenido);\n      if (this.$refs.form.validate()) {\n        const response = await API.addPost(formData);\n        this.$router.push({\n          name: 'home',\n          params: {\n            message: response.message\n          }\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["API","data","rules","value","post","titulo","categoria","contenido","image","created","response","getPostByID","$route","params","id","methods","selectFile","file","submitForm","formData","FormData","append","$refs","form","validate","addPost","$router","push","name","message"],"sources":["src/views/EditPost.vue"],"sourcesContent":["<template>\r\n    <v-container>\r\n        <v-row no-gutters>\r\n            <v-col sm=\"10\" class=\"mx-auto\">\r\n                <v-card class=\"pa-5\">\r\n                    <v-card-title>\r\n                        Edita un post\r\n                    </v-card-title>\r\n                    <v-divider></v-divider>\r\n                    <v-form ref=\"form\" @submit.prevent=\"updateForm\" class=\"pa-5\" enctype=\"multipart/form-data\">\r\n                        <v-text-field label=\"Titulo\" v-model=\"post.titulo\" prepend-icon=\"mdi-note\" :rules=\"rules\"></v-text-field>\r\n                        <v-text-field label=\"Categoria\" v-model=\"post.categoria\" prepend-icon=\"mdi-view-list\" :rules=\"rules\"></v-text-field>\r\n                        \r\n                        <v-textarea label=\"Contenido\" v-model=\"post.contenido\" prepend-icon=\"mdi-note-plus\" :rules=\"rules\"></v-textarea>\r\n\r\n                        <v-file-input @change=\"selectFile\"  show-size counter multiple label=\"Selecciona una imagen\"></v-file-input>\r\n                        <v-img :src=\"\"></v-img>\r\n\r\n                        <v-btn type=\"submit\" class=\"mt-3\" color=\"succes\">Editar post</v-btn>\r\n                    </v-form>\r\n                </v-card>\r\n            </v-col>\r\n        </v-row>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\nimport API from '../api';\r\nexport default{\r\n    data(){\r\n    return{\r\n        rules: [(value) =>!!value||\"Esta campo es obligatorio!!\"],\r\n        post: {\r\n            titulo: \"\",\r\n            categoria: \"\",\r\n            contenido: \"\",\r\n            image: \"\",\r\n        },\r\n        image: \"\",\r\n    };\r\n    },\r\n    async created(){\r\n        const response = await API.getPostByID(this.$route.params.id);\r\n        this.post = response;\r\n    },\r\n    methods: {\r\n        selectFile(file){\r\n            this.image = file[0];\r\n        },\r\n        async submitForm(){\r\n            const formData = new FormData();\r\n            formData.append(\"image\", this.image);\r\n            formData.append(\"titulo\", this.post.titulo);\r\n            formData.append(\"categoria\", this.post.categoria);\r\n            formData.append(\"contenido\", this.post.contenido);\r\n            if(this.$refs.form.validate()){\r\n                const response = await API.addPost(formData);\r\n                this.$router.push({ name:'home', params: { message: response.message } });\r\n            }\r\n        }\r\n}\r\n}\r\n</script>"],"mappings":";AA2BA,OAAAA,GAAA;AACA;EACAC,KAAA;IACA;MACAC,KAAA,GAAAC,KAAA,MAAAA,KAAA;MACAC,IAAA;QACAC,MAAA;QACAC,SAAA;QACAC,SAAA;QACAC,KAAA;MACA;MACAA,KAAA;IACA;EACA;EACA,MAAAC,QAAA;IACA,MAAAC,QAAA,SAAAV,GAAA,CAAAW,WAAA,MAAAC,MAAA,CAAAC,MAAA,CAAAC,EAAA;IACA,KAAAV,IAAA,GAAAM,QAAA;EACA;EACAK,OAAA;IACAC,WAAAC,IAAA;MACA,KAAAT,KAAA,GAAAS,IAAA;IACA;IACA,MAAAC,WAAA;MACA,MAAAC,QAAA,OAAAC,QAAA;MACAD,QAAA,CAAAE,MAAA,eAAAb,KAAA;MACAW,QAAA,CAAAE,MAAA,gBAAAjB,IAAA,CAAAC,MAAA;MACAc,QAAA,CAAAE,MAAA,mBAAAjB,IAAA,CAAAE,SAAA;MACAa,QAAA,CAAAE,MAAA,mBAAAjB,IAAA,CAAAG,SAAA;MACA,SAAAe,KAAA,CAAAC,IAAA,CAAAC,QAAA;QACA,MAAAd,QAAA,SAAAV,GAAA,CAAAyB,OAAA,CAAAN,QAAA;QACA,KAAAO,OAAA,CAAAC,IAAA;UAAAC,IAAA;UAAAf,MAAA;YAAAgB,OAAA,EAAAnB,QAAA,CAAAmB;UAAA;QAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}